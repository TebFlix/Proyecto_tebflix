<%@page import="javax.persistence.EntityNotFoundException"%>
<%@page import="org.eclipse.persistence.internal.jpa.ExceptionFactory"%>
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
    
 <%@ page import ="java.util.List" 
 		import="javax.persistence.EntityManager"
 		import="javax.persistence.EntityManagerFactory"
 		import="javax.persistence.Persistence"
 		import= "javax.persistence.TypedQuery"
 		import="model.*"%>
 		<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!-- Página de inicio sin suscripción -->
<!DOCTYPE html>
<html>

<head>
    <title>TebFlix - Plataforma dedicada al mundo de los cómics</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/jquery-3.4.0.min.js"></script>
    <script src="js/jQueryRotate.js"></script>
    <script src="js/script1.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Gugi|PT+Sans" rel="stylesheet">
    <!--fuente-->
    <link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
</head>

<body>
	<div id="capaCubrir"> </div>
	<!-- Cabecera -->
	<header>
		<div id="titulo">
			<h1 class="titulos"><a class="titulos"href="#">TebFlix</a></h1>
			<h2>Cómics, eventos y mucho más</h2>
			<a class="logo" href="#"> <img src="./img/logo_final1.png" class="logo"> </a>
			<img src="./img/menuBlanco.png" id="logoMenu">


			<div id="redes">
				<a href="https://es-es.facebook.com/" target="_blank"> <img src="./img/facebookblanco32.png"						
					id="facebook"> </a>
				<a href="https://www.youtube.com/" target="_blank"> <img src="./img/youtubeblanco32.png"
					id="youtube"> </a>
				<a href="https://twitter.com/?lang=es/" target="_blank"> <img src="./img/twitterblanco32.png"
					id="twitter"> </a>
				<a href="https://www.instagram.com/?hl=es/" target="_blank"> <img src="./img/instagramblanco32.png"
					id="instagram"> </a>
			</div>
			<input type="button" value="Iniciar sesión" id="inisesion">
			<input type="button" value="Regístrate" id="botonRegis">
		</div>
	</header>

	<!-- Menú -->
	<nav id="menu">
		<ul id="menu1" class="nav">
			<li> <a href="#"> Inicio </a></li>
			<li id="sub1"class="opt"> <a> Categorías </a>
				<ul id="sub11">
					<li id="subini"> <a href=""> > Acción </a></li>
					<li > <a href=""> > Ciencia Ficción </a></li>
					<li > <a href=""> > Detectives </a></li>
					<li > <a href=""> > Fantasía </a></li>
				</ul>
			</li>
			<li > <a href=""> Eventos </a></li>
			<li > <a href=""> Tiendas de cómics </a></li>
			<li id="final"> <a href=""> Conócenos </a></li>
		</ul>
	</nav>
    <!-- Introducción -->
    
    <%
 
	String mensaje ="", nombComic="" ;
    List<Comic> co = null;
  
	try{
		EntityManagerFactory factory = Persistence.createEntityManagerFactory("TebFlix01");
		EntityManager em = factory.createEntityManager();
		TypedQuery<Comic> query = em.createNamedQuery("Comic.findAll", Comic.class);
		co = query.getResultList();
		System.out.println("se ha conectado");
		

		
	}catch(Exception e){
		mensaje="Ha ocurrido un error";
		nombComic="null";
		System.out.println("No se ha conectado a la base de datos");
	}
    
    %>
    
    <div id="contenidol">

        <section>

            <span id="title-pdf"></span>
            <nav class="nav1">
                <ul class="imgs">

                    <li class="categoria" onclick="mostrarLista(this)" data-lista="novedades">Novedades
                        <ul class="pdfs">

                        </ul>
                    </li>
                    <li class="categoria" onclick="mostrarLista(this)" data-lista="accion">accion
                        <ul class="pdfs">

                        </ul>
                    </li>
                    <li class="categoria" onclick="mostrarLista(this)" data-lista="ciencia">Ciencia ficción
                        <ul class="pdfs">

                        </ul>
                    </li>
                </ul>
            </nav>
            <div id="margen">
                <div id="imgD">
            	
            	
            	<div class="lista accion"> 
            	<% for(Comic c:co){%>
            	 	<%if(c.getCategoria().equals("accion")){%>
                        <div class="comic">
                            <img class="img2" src="imagenes/<%=c.getImagen()%>.jpg" data-pdf="<%=c.getPdf()%>"/>
                        </div>
                        
                    </div>
            	
            	<%} %>
            
            	<div class="lista novedades"> 
            	<% for(Comic c:co){%>
                        <div class="comic">
                            <img class="img2" src="imagenes/<%=c.getImagen()%>.jpg" data-pdf="<%=c.getPdf()%>"/>
                        </div>
                        
                    </div>
            	
            	<%} %>
            	
            	<div class="lista ciencia"> 
            	<% for(Comic c:co){%>
                        <div class="comic">
                            <img class="img2" src="imagenes/<%=c.getImagen()%>.jpg" data-pdf="<%=c.getPdf()%>"/>
                        </div>
                        
                    </div>
            	
            	<%} %>
            	
            
<!--                     <div class="lista novedades"> -->
<!--                         <div class="comic"> -->
<!--                             <img class="img2" src="imagenes/detective_pikachu.jpg" data-pdf="pdf_ejemplo4"> /> -->
<!--                         </div> -->
<!--                         <div class="comic"> -->
<!--                             <img class="img2" src="imagenes/goku.jpg" data-pdf="pdf_ejemplo4" /> -->
<!--                         </div> -->
                        
<!--                     </div> -->
<!--                     <div class="lista accion"> -->
<!--                         <div class="comic"> -->
<!--                             <img class="img2" src="imagenes/baby_groot.jpg" data-pdf="ejemplo_esp" /> -->
<!--                         </div> -->
<!--                         <div class="comic"> -->
<!--                             <img class="img2" src="imagenes/avengers_3.jpg" data-pdf="pdf_ejemplo4" /> -->
<!--                         </div> -->
<!--                     </div> -->
<!--                     <div class="lista ciencia"> -->
<!--                         <div class="comic"> -->
<!--                             <img class="img2" src="imagenes/deadpool_vs_thanos.jpg" data-pdf="ejemplo_esp" /> -->
<!--                         </div> -->
<!--                         <div class="comic"> -->
<!--                             <img class="img2" src="imagenes/dragon_ball_super.jpg" data-pdf="pdf_ejemplo4" /> -->
<!--                         </div> -->
<!--                     </div> -->
                </div>
            </div>
            <div id="pdfs2">
                <embed id="pdf" height="100%" width="70%" type="application/pdf" />
            </div>
        </section>

    </div>

    <!-- Footer -->
    <footer id="pie">
        <div>
            <a href="https://es-es.facebook.com/" target="_blank"> <img src="./img/facebookblanco32.png" id="facebook"> </a>
            <a href="https://www.youtube.com/" target="_blank"> <img src="./img/youtubeblanco32.png" id="youtube"> </a>
            <a href="https://twitter.com/?lang=es/" target="_blank"> <img src="./img/twitterblanco32.png" id="twitter"> </a>
            <a href="https://www.instagram.com/?hl=es/" target="_blank"> <img src="./img/instagramblanco32.png" id="instagram"> </a>
        </div>
        <ul>
            <li><a class="enl" href="#">Privacidad.</a></li>
            <li><a class="enl" href="#">Términos y condiciones.</a></li>
        </ul>
        <p id="copy">Copyright 2019 ©. TebFlix.</p>
    </footer>

    <script type="text/javascript" src="js/script.js"></script>

</body>

</html>